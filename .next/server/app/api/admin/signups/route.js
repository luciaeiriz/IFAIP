"use strict";(()=>{var e={};e.id=858,e.ids=[858],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},156:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>m,patchFetch:()=>I,requestAsyncStorage:()=>d,routeModule:()=>c,serverHooks:()=>g,staticGenerationAsyncStorage:()=>l});var r={};s.r(r),s.d(r,{GET:()=>p});var n=s(9303),i=s(8716),a=s(3131),o=s(7070),u=s(5662);async function p(e){try{let{searchParams:t}=new URL(e.url),s=t.get("landing_tag"),r=t.get("course_id"),n=parseInt(t.get("limit")||"100"),i=parseInt(t.get("offset")||"0"),a=u.O.from("signups").select("*, courses(title)",{count:"exact"}).order("created_at",{ascending:!1}).range(i,i+n-1);s&&"all"!==s&&(a=a.eq("landing_tag",s)),r&&(a=a.eq("course_id",r));let{data:p,error:c,count:d}=await a;if(c)return console.error("Error fetching signups:",c),o.NextResponse.json({error:c.message||"Failed to fetch signups"},{status:500});return o.NextResponse.json({success:!0,signups:p||[],count:d||0})}catch(e){return console.error("Error in GET /api/admin/signups:",e),o.NextResponse.json({error:"Internal server error"},{status:500})}}let c=new n.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/admin/signups/route",pathname:"/api/admin/signups",filename:"route",bundlePath:"app/api/admin/signups/route"},resolvedPagePath:"/Users/lucia/Documents/GitHub/IFAIP/app/api/admin/signups/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:d,staticGenerationAsyncStorage:l,serverHooks:g}=c,m="/api/admin/signups/route";function I(){return(0,a.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:l})}},5662:(e,t,s)=>{s.d(t,{O:()=>a});var r=s(7857);let n="https://ktqjebihzkbhsvbqpbui.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt0cWplYmloemtiaHN2YnFwYnVpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYwNDQwNDksImV4cCI6MjA4MTYyMDA0OX0.VVd6upefHH2g23ijFyx5mv7uJJdt9Xuz9jUkL-Jn-F0";if(!n||!i)throw Error("Missing Supabase environment variables. Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY");let a=(0,r.eI)(n,i,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}})}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[276,972,857],()=>s(156));module.exports=r})();