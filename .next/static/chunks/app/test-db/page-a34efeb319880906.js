(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[359],{2901:function(e,s,l){Promise.resolve().then(l.bind(l,3286))},3286:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return n}});var r=l(7437),o=l(2265),t=l(2141);function n(){var e;let[s,l]=(0,o.useState)(null),[n,c]=(0,o.useState)(!0);return((0,o.useEffect)(()=>{(async()=>{try{console.log("\uD83D\uDD0D Testing Supabase connection..."),console.log("URL:","✅ Set"),console.log("Key:","✅ Set");let{count:e,error:s}=await t.O.from("courses").select("*",{count:"exact",head:!0});console.log("Count query result:",{count:e,error:s});let{data:r,error:o}=await t.O.from("courses").select("*").limit(1);console.log("Fetch query result:",{data:r,error:o});let{data:n,error:c}=await t.O.from("courses").select("*").limit(0);console.log("Schema query result:",{schemaData:n,schemaError:c}),l({count:e,countError:s?{message:s.message,code:s.code}:null,sampleData:(null==r?void 0:r[0])||null,fetchError:o?{message:o.message,code:o.code}:null,columns:(null==r?void 0:r[0])?Object.keys(r[0]):[]})}catch(e){console.error("Test failed:",e),l({error:e.message})}finally{c(!1)}})()},[]),n)?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Testing Database Connection..."}),(0,r.jsx)("p",{children:"Check the browser console for detailed logs."})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Database Connection Test"}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"font-semibold text-lg mb-2",children:"Connection Status"}),(0,r.jsxs)("p",{children:["URL: ","✅ Set"]}),(0,r.jsxs)("p",{children:["Key: ","✅ Set"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"font-semibold text-lg mb-2",children:"Course Count"}),(null==s?void 0:s.countError)?(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded p-3",children:[(0,r.jsxs)("p",{className:"text-red-800 font-semibold",children:["Error: ",s.countError.message]}),(0,r.jsxs)("p",{className:"text-red-600 text-sm",children:["Code: ",s.countError.code]})]}):(0,r.jsxs)("p",{className:"text-lg",children:[(0,r.jsx)("span",{className:"font-semibold",children:null!==(e=null==s?void 0:s.count)&&void 0!==e?e:0})," courses found"]})]}),(null==s?void 0:s.fetchError)&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"font-semibold text-lg mb-2",children:"Fetch Error"}),(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded p-3",children:[(0,r.jsxs)("p",{className:"text-red-800 font-semibold",children:["Error: ",s.fetchError.message]}),(0,r.jsxs)("p",{className:"text-red-600 text-sm",children:["Code: ",s.fetchError.code]})]})]}),(null==s?void 0:s.sampleData)&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"font-semibold text-lg mb-2",children:"Sample Course Data"}),(0,r.jsx)("div",{className:"bg-gray-50 rounded p-3",children:(0,r.jsx)("pre",{className:"text-xs overflow-auto",children:JSON.stringify(s.sampleData,null,2)})})]}),(null==s?void 0:s.columns)&&s.columns.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"font-semibold text-lg mb-2",children:"Column Names"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:s.columns.map(e=>(0,r.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm",children:e},e))})]}),(null==s?void 0:s.error)&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded p-3",children:(0,r.jsxs)("p",{className:"text-red-800 font-semibold",children:["Exception: ",s.error]})})]}),(0,r.jsx)("div",{className:"mt-6 bg-yellow-50 border border-yellow-200 rounded p-4",children:(0,r.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,r.jsx)("strong",{children:"Note:"})," Check the browser console (F12) for detailed logs."]})})]})})}},2141:function(e,s,l){"use strict";l.d(s,{O:function(){return n}});var r=l(3053);let o="https://ktqjebihzkbhsvbqpbui.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt0cWplYmloemtiaHN2YnFwYnVpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYwNDQwNDksImV4cCI6MjA4MTYyMDA0OX0.VVd6upefHH2g23ijFyx5mv7uJJdt9Xuz9jUkL-Jn-F0";if(!o||!t)throw Error("Missing Supabase environment variables. Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY");let n=(0,r.eI)(o,t,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}})}},function(e){e.O(0,[53,971,117,744],function(){return e(e.s=2901)}),_N_E=e.O()}]);